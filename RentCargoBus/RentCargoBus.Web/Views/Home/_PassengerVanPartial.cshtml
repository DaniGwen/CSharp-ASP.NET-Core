@model RentCargoBus.Web.Models.Index.CarsVansViewModel
@{
    ViewData["Title"] = "Passenger van partial";
    var passengerVans = Model.Vans.Where(van => van.Type == RentCargoBus.Data.Models.Enum.VanType.Passenger);
}

<article class="c-main__vehicles">
    <h2 class="c-main__vehicles__title">Passenger vans:</h2>
    <section class="c-main__vans">
        @if (passengerVans.Any())
        {
            @foreach (var van in passengerVans)
            {
                <div class="c-main__vans__container">
                    <a class="c-card" asp-controller="Home" asp-action="VanDetails" asp-route-id="@van.VanId">

                        <div class="c-card__wrapper">
                            @if (van.Images.Count > 0)
                            {
                                <img class="c-card__image"
                                     src="/images/@van.Images.FirstOrDefault().ImageName"
                                     alt="car" />
                            }
                            else
                            {
                                <img class="c-card__image"
                                     src="/images/default-van-icon.png"
                                     alt="car" />
                            }
                        </div>

                        <div class="c-card__info">
                            <h2 class="c-card__van-brand">@van.Brand</h2>
                            <h3 class="c-card__van-model">@van.Model</h3>
                            <div class="c-card__info__details">
                                <p class="c-card__info__details__plate-number">
                                    Plate number:
                                    <span class="c-card__info__details__span">@van.PlateNumber</span>
                                </p>

                                <p class="c-card__info__details__seats">
                                    Seats:
                                    <span class="c-card__info__details__span">@van.Seats</span>
                                </p>

                                <p class="c-card__info__details__weight">
                                    Weight:
                                    <span class="c-card__info__details__span">@van.Weight</span>kg.
                                </p>

                                <p class="c-card__info__details__height">
                                    Height:
                                    <span class="c-card__info__details__span">@van.Height</span>m.
                                </p>

                                <p class="c-card__info__details__max-load">
                                    Max load:
                                    <span class="c-card__info__details__span">@van.MaxLoad</span>kg.
                                </p>

                                <p class="c-card__info__details__price">
                                    Lease price:
                                    <span class="c-card__info__details__span">@van.HirePrice</span>Euro. / Day
                                </p>

                                @if (van.IsAvailable)
                                {
                                    <p class="btn c-card__info__availability">Available</p>
                                }
                                else
                                {
                                    <p class="c-card__info__availability c-card__info__availability--busy">Not Available</p>
                                }
                            </div>
                        </div>
                    </a>

                    @if (this.User.Identity.IsAuthenticated)
                    {
                        <article class="c-card__info__action__wrapper">
                            <a class="c-card__info__action"
                               asp-action="EditVan"
                               asp-controller="Admin"
                               asp-route-id="@van.VanId">Edit</a>

                            <a class="c-card__info__action delete-van"
                               onclick="deleteVan(this)"
                               id="@van.VanId">Delete</a>
                        </article>
                    }
                </div>
            }
        }
        else
        {
            <h4 class="c-main__vans__no-vehicles">No vans at the moment.</h4>
        }
    </section>
</article>

