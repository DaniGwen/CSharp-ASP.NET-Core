<article class="text-center mb-5">
  <form [formGroup]="orderForm" (ngSubmit)="OnSubmit()">
    <h4 class="text-center mb-3">{{'order.Your details'| translate}}</h4>
    <div class="form-row justify-content-center">
      <div class="col-md-3 mb-3">
        <label>{{'order.First name' | translate}}</label>
        <input class="form-control" type="text" formControlName="firstName" id="firstName" />
        <div *ngIf="(orderForm.get('firstName').touched || orderForm.get('firstName').dirty)
             && orderForm.get('firstName').errors">
          <label *ngIf="orderForm.get('firstName').errors.required" class="alert alert-danger">
            {{'order.Name is required.' | translate}}
          </label>
          <label *ngIf="orderForm.get('firstName').errors.minlength" class="alert alert-danger">
            {{'order.Name must be atleast 3 letters.' | translate}}
          </label>
        </div>
      </div>
      <div class="col-md-3 mb-3">
        <label>{{'order.Last name' | translate}}</label>
        <input class="form-control" type="text" formControlName="lastName" />
        <div *ngIf="(orderForm.get('lastName').touched || orderForm.get('lastName').dirty)
             && orderForm.get('lastName').errors">
          <label *ngIf="orderForm.get('lastName').errors.required" class="alert alert-danger">
            {{'order.Last name is required.' | translate}}
          </label>
          <label *ngIf="orderForm.get('lastName').errors.minlength" class="alert alert-danger">
            {{'order.Last name must be atleast 3 letters.' | translate}}
          </label>
        </div>
      </div>
    </div>
    <div class="form-row justify-content-center">
      <div class="col-md-3 mb-3">
        <label>{{'order.Email' | translate}}</label>
        <input class="form-control" type="text" formControlName="email" />
        <label *ngIf="(orderForm.get('email').touched || orderForm.get('email').dirty)
             && orderForm.get('email').errors" class="alert alert-danger">
          {{'order.Email is required.' | translate}}
        </label>
      </div>
      <div class="col-md-3 mb-3">
        <label>{{'order.Phone number' | translate}}</label>
        <input class="form-control" type="number" min="0" formControlName="phoneNumber" />
        <div *ngIf="(orderForm.get('phoneNumber').touched || orderForm.get('phoneNumber').dirty)
             && orderForm.get('phoneNumber').errors">
          <label *ngIf="orderForm.get('phoneNumber').errors.required" class="alert alert-danger">
            {{'order.Phone number is required.' | translate}}
          </label>
          <label *ngIf="orderForm.get('phoneNumber').errors.minlength" class="alert alert-danger">
            {{'order.Phone number must be atleast 4 digits.' | translate}}
          </label>
        </div>
      </div>
    </div>
    <hr />
    <h3 class="text-center mb-2">{{'order.Address' | translate}}</h3>
    <div class="form-row justify-content-center">
      <div class="col-md-3 mb-3">
        <label>{{'order.City' | translate}}</label>
        <input type="text" class="form-control" formControlName="city">
        <div *ngIf="(orderForm.get('city').touched || orderForm.get('city').dirty)
             && orderForm.get('city').errors">
          <label *ngIf="orderForm.get('city').errors.required" class="alert alert-danger">
            {{'order.City is required.' | translate}}
          </label>
          <label *ngIf="orderForm.get('city').errors.minlength" class="alert alert-danger">
            {{'order.City must be atleast 3 letters.' | translate}}
          </label>
        </div>
      </div>
      <div class="col-md-3 mb-3">
        <label>{{'order.Neighbourhood' | translate}}</label>
        <input class="form-control" type="text" formControlName="neighbourhood" />
      </div>
    </div>
    <div class="form-row justify-content-center">
      <div class="col-md-3 mb-3">
        <label>{{'order.Street' | translate}}</label>
        <input class="form-control" type="text" formControlName="street" />
        <div *ngIf="(orderForm.get('street').touched || orderForm.get('street').dirty)
             && orderForm.get('street').errors">
          <label *ngIf="orderForm.get('street').errors.required" class="alert alert-danger">
            {{'order.Street is required.' | translate}}
          </label>
          <label *ngIf="orderForm.get('street').errors.minlength" class="alert alert-danger">
            {{'order.Street must be atleast 3 letters.' | translate}}
          </label>
        </div>
      </div>
    </div>

    <div class="form-row justify-content-center">
      <div class="col-sm-1 mb-3">
        <label>{{'order.Quantity' | translate}}</label>
        <input class="form-control" type="number" min="1" value="1" formControlName="quantity" #quantity (focusout)="calculateKnivePrice(quantity.value)" />
      </div>
    </div>
    <hr />
    <h3 class="text-center">{{'order.Price' | translate}}<label formControlName="price">{{totalPrice}}</label></h3>
    <hr />
    <div  *ngIf="!showLoader">
      <div class="row justify-content-center">
        <button class="btn btn-outline-info btn-custom" type="submit" [disabled]="!orderForm.valid">{{'order.Order' | translate}}</button>
      </div>
      <div class="row justify-content-center ml-4 mt-2">
        <a class="back-button mr-5" [routerLink]="['/']"><i class="fas fa-arrow-circle-left"></i></a>
      </div>
      <p *ngIf="!errorMessage">{{errorMessage}}</p>
    </div>
    <app-loading-screen [showOverlay]="showLoader"></app-loading-screen>
  </form>
</article>

