@model DigitalCoolBook.App.Models.TestviewModels.QuestionsAddViewModel

@{
    ViewData["Title"] = "AddQuestions";
    Layout = "~/Views/Shared/_SubjectDetailLayout.cshtml";
}

<h1 class="text-center">Добавяне на въпроси към тест</h1>
<br />
<div class="row">
    <div class="col">
        <div class="form-group">
            <div class="row">
                <h4>Уроци</h4>
            </div>
            <div class="row">
                @Html.DropDownListFor(m => m.LessonId, new SelectList(Model.Lessons, "Id", "Title"), "Изберете Урок..", new { @class = "dropdown" })
            </div>
            <div class="row mt-2">
                <h4>Брой на въпросите</h4>
            </div>
            <div>
                <input type="number" id="numberOfQuestions" value="" />
            </div>
            <form class="form-control-lg">
                <div id="questionsField">
                </div>
            </form>
        </div>
    </div>
</div>

<script type="text/javascript">
    $(function () {
        $('#numberOfQuestions').change(function () {
            // remove fields before create new ones
            $('#questionsField').empty();
            var numberOfQuestions = $('#numberOfQuestions').val();
            for (var i = 0; i < numberOfQuestions; i++) {
                 $('#questionsField').append(
                     $('<label class="col-sm-2 col-form-label col-form-label-sm w-70">Въпрос ' + (i + 1) + '<label/>', { for: 'question' + i }),
                    $('<input class="mt-2 form-control form-control-sm w-70"/>', { type: 'text', id: 'question' + i }),
                    $('<br/>'))
            }
        })
    })
</script>